<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lockless Logger: src/core/logger/logger.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lockless Logger
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_ffd15e349ea497166a76d5042b2f5c37.html">logger</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">logger.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module provides an implementation of a logger utility.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;threads.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;syscall.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;stdatomic.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="logger_8h_source.html">../api/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="linkedList_8h_source.html">../common/ringBufferList/linkedList/linkedList.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ringBuffer_8h_source.html">../common/ringBufferList/ringBuffer/ringBuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ringBufferList_8h_source.html">../common/ringBufferList/ringBufferList.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for logger.c:</div>
<div class="dyncontent">
<div class="center"><img src="logger_8c__incl.png" border="0" usemap="#src_2core_2logger_2logger_8c" alt=""/></div>
<map name="src_2core_2logger_2logger_8c" id="src_2core_2logger_2logger_8c">
<area shape="rect" id="node13" href="logger_8h.html" title="This module provides an implementation of a logger utility. " alt="" coords="1093,87,1203,114"/>
<area shape="rect" id="node14" href="linkedList_8h.html" title="This module provides a generic linked list implementation and is based on &#39;linkedListNode&#39; module..." alt="" coords="1150,169,1333,211"/>
<area shape="rect" id="node16" href="ringBuffer_8h.html" title="This module provides a lockless implementation of a ring buffer for a single produce &#45; single consume..." alt="" coords="1382,169,1565,211"/>
<area shape="rect" id="node17" href="ringBufferList_8h.html" title="This module provides implementation of a ring buffer list. This module is based on the submodules &#45; &#39;..." alt="" coords="1279,80,1462,121"/>
<area shape="rect" id="node15" href="linkedListNode_8h.html" title="This module provides implementation for node operations in a generic linked list. This module is a su..." alt="" coords="1158,259,1325,285"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMessageInfo.html">MessageInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a51d90ea93d4b55e086cb490f7478e684"><td class="memItemLeft" align="right" valign="top"><a id="a51d90ea93d4b55e086cb490f7478e684"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_MSG_LEN</b>&#160;&#160;&#160;512</td></tr>
<tr class="separator:a51d90ea93d4b55e086cb490f7478e684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8532f0c508ed4c4a97ac504e70feb850"><td class="memItemLeft" align="right" valign="top"><a id="a8532f0c508ed4c4a97ac504e70feb850"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ARGS_LEN</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:a8532f0c508ed4c4a97ac504e70feb850"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a85e6e131e5efbb682bc99b9699f89c66"><td class="memItemLeft" align="right" valign="top"><a id="a85e6e131e5efbb682bc99b9699f89c66"></a>
typedef struct <a class="el" href="structMessageInfo.html">MessageInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><b>MessageInfo</b></td></tr>
<tr class="separator:a85e6e131e5efbb682bc99b9699f89c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae4f56ff5e43ad5ab5802cfa6832728b5"><td class="memItemLeft" align="right" valign="top"><a id="ae4f56ff5e43ad5ab5802cfa6832728b5"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>logSource</b> { <b>LS_PRIVATE_BUFFER</b>, 
<b>LS_SHARED_BUFFER</b>, 
<b>LS_DIRECT_WRITE</b>
 }</td></tr>
<tr class="separator:ae4f56ff5e43ad5ab5802cfa6832728b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaaedf789894c42fcd6d8ebad5003407d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#aaaedf789894c42fcd6d8ebad5003407d">createLogFile</a> ()</td></tr>
<tr class="separator:aaaedf789894c42fcd6d8ebad5003407d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25450beac2c28565d53e0d15440d5c1f"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a25450beac2c28565d53e0d15440d5c1f">runLogger</a> ()</td></tr>
<tr class="separator:a25450beac2c28565d53e0d15440d5c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9fd7d3256d9c072dda9170df52cfb85"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#ac9fd7d3256d9c072dda9170df52cfb85">freeResources</a> ()</td></tr>
<tr class="separator:ac9fd7d3256d9c072dda9170df52cfb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7c129bd1bbe3afeda27b09d62c7864"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a1b7c129bd1bbe3afeda27b09d62c7864">initsharedBuffer</a> (const int sharedBufferSize)</td></tr>
<tr class="separator:a1b7c129bd1bbe3afeda27b09d62c7864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644fec0c0e0dff5a7ad048cc24154db9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a644fec0c0e0dff5a7ad048cc24154db9">initPrivateBuffers</a> (const int buffersNum, const int buffersSize)</td></tr>
<tr class="separator:a644fec0c0e0dff5a7ad048cc24154db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb308103b95016779df390c8c96a1e1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#addb308103b95016779df390c8c96a1e1">writeToPrivateBuffer</a> (struct <a class="el" href="structRingBuffer.html">RingBuffer</a> *rb, <a class="el" href="structMessageInfo.html">MessageInfo</a> *msgInfo)</td></tr>
<tr class="separator:addb308103b95016779df390c8c96a1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10216d7c79c1962f9498c420e1f01d5d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a10216d7c79c1962f9498c420e1f01d5d">writeTosharedBuffer</a> (<a class="el" href="structMessageInfo.html">MessageInfo</a> *msgInfo)</td></tr>
<tr class="separator:a10216d7c79c1962f9498c420e1f01d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016c1fba7fb5fcae0a42357db89c5daf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a016c1fba7fb5fcae0a42357db89c5daf">drainPrivateBuffers</a> ()</td></tr>
<tr class="separator:a016c1fba7fb5fcae0a42357db89c5daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee1aa10c2a84569c49790c07bfb7de47"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#aee1aa10c2a84569c49790c07bfb7de47">drainsharedBuffer</a> ()</td></tr>
<tr class="separator:aee1aa10c2a84569c49790c07bfb7de47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a2b3b631f36a0871fd2416ee968a3f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a6a2b3b631f36a0871fd2416ee968a3f1">directWriteToFile</a> (<a class="el" href="structMessageInfo.html">MessageInfo</a> *msgInfo)</td></tr>
<tr class="separator:a6a2b3b631f36a0871fd2416ee968a3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa357b200c534f9884dbbfdff32be188a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#aa357b200c534f9884dbbfdff32be188a">writeInFormat</a> (char *buf, const void *data, const int maxMessageLen)</td></tr>
<tr class="separator:aa357b200c534f9884dbbfdff32be188a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd532007f79836bf7d5a3c19249c903"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a1cd532007f79836bf7d5a3c19249c903">setMsgInfoValues</a> (<a class="el" href="structMessageInfo.html">MessageInfo</a> *msgInfo, char *file, const char *func, const int line, const int loggingLevel, char *argsBuf)</td></tr>
<tr class="separator:a1cd532007f79836bf7d5a3c19249c903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719ac580d17ea7111d572b9fc7b02743"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a719ac580d17ea7111d572b9fc7b02743">discardFilenamePrefix</a> (char **file)</td></tr>
<tr class="separator:a719ac580d17ea7111d572b9fc7b02743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a431376c471193110929ae0aede0f4c"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a1a431376c471193110929ae0aede0f4c">isLogCurrentMessage</a> (const int loggingLevel, const char *msg)</td></tr>
<tr class="separator:a1a431376c471193110929ae0aede0f4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d48484a943623d3059298588b0aa032"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a2d48484a943623d3059298588b0aa032">initLogger</a> (const int buffersNum, const int buffersSize, const int sharedBuffSize, const int loggingLevel)</td></tr>
<tr class="separator:a2d48484a943623d3059298588b0aa032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b26c3643213fb562e2a488bc28b3786"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a8b26c3643213fb562e2a488bc28b3786">setLoggingLevel</a> (const int loggingLevel)</td></tr>
<tr class="separator:a8b26c3643213fb562e2a488bc28b3786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24cb7a769ac91199a40ffd5d0ba0daca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a24cb7a769ac91199a40ffd5d0ba0daca">registerThread</a> ()</td></tr>
<tr class="separator:a24cb7a769ac91199a40ffd5d0ba0daca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ce845d8dab297b5d82febb0ae35fec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a73ce845d8dab297b5d82febb0ae35fec">unregisterThread</a> ()</td></tr>
<tr class="separator:a73ce845d8dab297b5d82febb0ae35fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4339ec77ab029db1548580313b9dc605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a4339ec77ab029db1548580313b9dc605">terminateLogger</a> ()</td></tr>
<tr class="separator:a4339ec77ab029db1548580313b9dc605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a033a9a1b552c4067c8d04a9564093f35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8c.html#a033a9a1b552c4067c8d04a9564093f35">logMessage</a> (const int loggingLevel, char *file, const char *func, const int line, const char *msg,...)</td></tr>
<tr class="separator:a033a9a1b552c4067c8d04a9564093f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a99b829ce54ee4d26e86ea3e96fb5c1dc"><td class="memItemLeft" align="right" valign="top"><a id="a99b829ce54ee4d26e86ea3e96fb5c1dc"></a>
static atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><b>isTerminate</b></td></tr>
<tr class="separator:a99b829ce54ee4d26e86ea3e96fb5c1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a4cc7648d8e7784fb8931bd3e5098e"><td class="memItemLeft" align="right" valign="top"><a id="aa3a4cc7648d8e7784fb8931bd3e5098e"></a>
static atomic_int&#160;</td><td class="memItemRight" valign="bottom"><b>logLevel</b></td></tr>
<tr class="separator:aa3a4cc7648d8e7784fb8931bd3e5098e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2aea32fd12851065d53e1221cbb047d"><td class="memItemLeft" align="right" valign="top"><a id="ac2aea32fd12851065d53e1221cbb047d"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>fileHandle</b></td></tr>
<tr class="separator:ac2aea32fd12851065d53e1221cbb047d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4a30fb69c55f449605ba662e0cf5c0"><td class="memItemLeft" align="right" valign="top"><a id="a3c4a30fb69c55f449605ba662e0cf5c0"></a>
static FILE *&#160;</td><td class="memItemRight" valign="bottom"><b>logFile</b></td></tr>
<tr class="separator:a3c4a30fb69c55f449605ba662e0cf5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084c6adb4f361c43a1b80024070e8123"><td class="memItemLeft" align="right" valign="top"><a id="a084c6adb4f361c43a1b80024070e8123"></a>
static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>loggerLock</b></td></tr>
<tr class="separator:a084c6adb4f361c43a1b80024070e8123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa665e324fa1163b4df5455d1a23e0852"><td class="memItemLeft" align="right" valign="top"><a id="aa665e324fa1163b4df5455d1a23e0852"></a>
static pthread_t&#160;</td><td class="memItemRight" valign="bottom"><b>loggerThread</b></td></tr>
<tr class="separator:aa665e324fa1163b4df5455d1a23e0852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24e0906acc16972cc715a1761477cf4"><td class="memItemLeft" align="right" valign="top"><a id="aa24e0906acc16972cc715a1761477cf4"></a>
static struct <a class="el" href="structLinkedList.html">LinkedList</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>privateBuffers</b></td></tr>
<tr class="separator:aa24e0906acc16972cc715a1761477cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4975be837aa92ec9f4762cb4e2412b55"><td class="memItemLeft" align="right" valign="top"><a id="a4975be837aa92ec9f4762cb4e2412b55"></a>
static struct <a class="el" href="structLinkedList.html">LinkedList</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>availablePrivateBuffers</b></td></tr>
<tr class="separator:a4975be837aa92ec9f4762cb4e2412b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c68433bee9f5776d3babc0414345951"><td class="memItemLeft" align="right" valign="top"><a id="a5c68433bee9f5776d3babc0414345951"></a>
static struct <a class="el" href="structLinkedList.html">LinkedList</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>inUsePrivateBuffers</b></td></tr>
<tr class="separator:a5c68433bee9f5776d3babc0414345951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ccc979ac10dc34638e334d7e768b8f"><td class="memItemLeft" align="right" valign="top"><a id="a85ccc979ac10dc34638e334d7e768b8f"></a>
static struct <a class="el" href="structRingBuffer.html">RingBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sharedBuffer</b></td></tr>
<tr class="separator:a85ccc979ac10dc34638e334d7e768b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2622450cdb59eb8c1d105785003f8806"><td class="memItemLeft" align="right" valign="top"><a id="a2622450cdb59eb8c1d105785003f8806"></a>
static pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>sharedBufferlock</b></td></tr>
<tr class="separator:a2622450cdb59eb8c1d105785003f8806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c29de67afe655d7d14ee880bbb25bfe"><td class="memItemLeft" align="right" valign="top"><a id="a3c29de67afe655d7d14ee880bbb25bfe"></a>
thread_local struct <a class="el" href="structLinkedListNode.html">LinkedListNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>rbn</b></td></tr>
<tr class="separator:a3c29de67afe655d7d14ee880bbb25bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module provides an implementation of a logger utility. </p>
<dl class="section author"><dt>Author</dt><dd>Barak Sason Rofman</dd></dl>
<p>The idea behind this utility is to reduce as much as possible the impact of logging on runtime. Part of this reduction comes at the cost of having to parse and reorganize the messages in the log files using a dedicated tool (yet to be implemented) as there is no guarantee on the order of logged messages.</p>
<p>The logger operates in the following way: The logger provides several (number and size are user-defined) pre-allocated buffers which threads can 'register' to and receive a private buffer. In addition, a single, shared buffer is also pre-allocated (size is user-defined). The number of buffers and their size is modifiable at runtime (not yet implemented).</p>
<p>The basic logic of the logger utility is that worker threads write messages in one of 3 ways that will be described next, and an internal logger threads constantly iterates the existing buffers and drains the data to the log file.</p>
<p>As all allocation are allocated at the initialization stage, no special treatment it needed for "out
of memory" cases.</p>
<p>The following writing levels exist: Level 1 - Lockless writing: Lockless writing is achieved by assigning each thread a private ring buffer. A worker threads write to that buffer and the logger thread drains that buffer into a log file.</p>
<p>In case the private ring buffer is full and not yet drained, or in case the worker thread has not registered for a private buffer, we fall down to the following writing methods:</p>
<p>Level 2 - Shared buffer writing: The worker thread will write it's data into a buffer that's shared across all threads. This is done in a synchronized manner.</p>
<p>In case the private ring buffer is full and not yet drained AND the shared ring buffer is full and not yet drained, or in case the worker thread has not registered for a private buffer, we fall down to the following writing methods:</p>
<p>Level 3 - Direct write: This is the slowest form of writing - the worker thread directly write to the log file.</p>
<dl class="section user"><dt>License: Apache License, Version 2.0</dt><dd></dd></dl>
<dl class="section user"><dt>Copywrite: (C) [2019] [Barak Sason Rofman]</dt><dd></dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aaaedf789894c42fcd6d8ebad5003407d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaedf789894c42fcd6d8ebad5003407d">&#9670;&nbsp;</a></span>createLogFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int createLogFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a log file </p><dl class="section return"><dt>Returns</dt><dd>LOG_STATUS_SUCCESS on success, LOG_STATUS_FAILURE on failure </dd></dl>

</div>
</div>
<a id="a6a2b3b631f36a0871fd2416ee968a3f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a2b3b631f36a0871fd2416ee968a3f1">&#9670;&nbsp;</a></span>directWriteToFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void directWriteToFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMessageInfo.html">MessageInfo</a> *&#160;</td>
          <td class="paramname"><em>msgInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Worker thread directly writes to the log file </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgInfo</td><td>The message information </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a719ac580d17ea7111d572b9fc7b02743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719ac580d17ea7111d572b9fc7b02743">&#9670;&nbsp;</a></span>discardFilenamePrefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void discardFilenamePrefix </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get only the filename out of the full path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The full file name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a016c1fba7fb5fcae0a42357db89c5daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016c1fba7fb5fcae0a42357db89c5daf">&#9670;&nbsp;</a></span>drainPrivateBuffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drainPrivateBuffers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Drain all private buffers assigned to worker threads to the log file </p>

</div>
</div>
<a id="aee1aa10c2a84569c49790c07bfb7de47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee1aa10c2a84569c49790c07bfb7de47">&#9670;&nbsp;</a></span>drainsharedBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drainsharedBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Drain the buffer which is shared by the worker threads to the log file </p>

</div>
</div>
<a id="ac9fd7d3256d9c072dda9170df52cfb85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9fd7d3256d9c072dda9170df52cfb85">&#9670;&nbsp;</a></span>freeResources()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void freeResources </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Release all malloc'ed resources, destroy mutexs and close the open file </p>

</div>
</div>
<a id="a2d48484a943623d3059298588b0aa032"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d48484a943623d3059298588b0aa032">&#9670;&nbsp;</a></span>initLogger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initLogger </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>buffersNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>buffersSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>sharedBuffSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>loggingLevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize all data required by the logger. Note: This method must be called before any other API is used, and it can be called only once </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffersNum</td><td>Number of threads that will be able to register </td></tr>
    <tr><td class="paramname">buffersSize</td><td>Size of private buffers </td></tr>
    <tr><td class="paramname">sharedBuffSize</td><td>Size of shared buffer </td></tr>
    <tr><td class="paramname">loggingLevel</td><td>Desired logging level (only messages with lower or equal logging level will be logged, one of the levels at 'logLevels') </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LOG_STATUS_SUCCESS on success, LOG_STATUS_FAILURE on failure </dd></dl>

</div>
</div>
<a id="a644fec0c0e0dff5a7ad048cc24154db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644fec0c0e0dff5a7ad048cc24154db9">&#9670;&nbsp;</a></span>initPrivateBuffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initPrivateBuffers </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>buffersNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>buffersSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize private buffers parameters </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffersNum</td><td>NUmber of buffers </td></tr>
    <tr><td class="paramname">buffersSize</td><td>Size of buffers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b7c129bd1bbe3afeda27b09d62c7864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b7c129bd1bbe3afeda27b09d62c7864">&#9670;&nbsp;</a></span>initsharedBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initsharedBuffer </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>sharedBufferSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize shared buffer data parameters </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sharedBufferSize</td><td>Size of buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1a431376c471193110929ae0aede0f4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a431376c471193110929ae0aede0f4c">&#9670;&nbsp;</a></span>isLogCurrentMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isLogCurrentMessage </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>loggingLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decide whether to proceed with logging action </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loggingLevel</td><td>Logging level of the current message </td></tr>
    <tr><td class="paramname">msg</td><td>The contents of the message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if logging should proceed or false otherwise </dd></dl>

</div>
</div>
<a id="a033a9a1b552c4067c8d04a9564093f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a033a9a1b552c4067c8d04a9564093f35">&#9670;&nbsp;</a></span>logMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int logMessage </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>loggingLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a message from a worker thread to a private buffer (or write it directly to file if a private buffer is unavailable) NOTE: 'logMessage' should be called only by using the macro 'LOG_MSG' NOTE: this API may be called only after calling 'initLogger(...) API </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loggingLevel</td><td>Logging level of the message (must be one of the levels at 'logLevels') </td></tr>
    <tr><td class="paramname">file</td><td>File name that originated the call </td></tr>
    <tr><td class="paramname">func</td><td>Method that originated the call </td></tr>
    <tr><td class="paramname">line</td><td>Line that originated the call </td></tr>
    <tr><td class="paramname">msg</td><td>Message data (must be a null-terminated string) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LOG_STATUS_SUCCESS on success, LOG_STATUS_FAILURE on failure </dd></dl>

</div>
</div>
<a id="a24cb7a769ac91199a40ffd5d0ba0daca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24cb7a769ac91199a40ffd5d0ba0daca">&#9670;&nbsp;</a></span>registerThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int registerThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Register a worker thread at the logger and assign a private buffers to it </p><dl class="section return"><dt>Returns</dt><dd>LOG_STATUS_SUCCESS on success, LOG_STATUS_FAILURE on failure </dd></dl>

</div>
</div>
<a id="a25450beac2c28565d53e0d15440d5c1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25450beac2c28565d53e0d15440d5c1f">&#9670;&nbsp;</a></span>runLogger()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void * runLogger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Logger thread loop -At each iteration, go over all the buffers and drain them to the log file </p>

</div>
</div>
<a id="a8b26c3643213fb562e2a488bc28b3786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b26c3643213fb562e2a488bc28b3786">&#9670;&nbsp;</a></span>setLoggingLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void setLoggingLevel </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>loggingLevel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets logging level to the specified value NOTE: this API may be called only after calling 'initLogger(...) API </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loggingLevel</td><td>New logging level of the message (must be one of the defined logging levels) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1cd532007f79836bf7d5a3c19249c903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd532007f79836bf7d5a3c19249c903">&#9670;&nbsp;</a></span>setMsgInfoValues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void setMsgInfoValues </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMessageInfo.html">MessageInfo</a> *&#160;</td>
          <td class="paramname"><em>msgInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>loggingLevel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argsBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Populate messageInfo struct </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgInfo</td><td>The struct to be populated </td></tr>
    <tr><td class="paramname">file</td><td>File name that originated the call </td></tr>
    <tr><td class="paramname">func</td><td>Method that originated the call </td></tr>
    <tr><td class="paramname">line</td><td>Line that originated the call </td></tr>
    <tr><td class="paramname">loggingLevel</td><td>Logging level of the message (must be one of the levels at 'logLevels') </td></tr>
    <tr><td class="paramname">argsBuf</td><td>Additional arguments to log message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4339ec77ab029db1548580313b9dc605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4339ec77ab029db1548580313b9dc605">&#9670;&nbsp;</a></span>terminateLogger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void terminateLogger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Terminate the logger thread and release resources NOTE: this API may be called only after calling 'initLogger(...) API </p>

</div>
</div>
<a id="a73ce845d8dab297b5d82febb0ae35fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73ce845d8dab297b5d82febb0ae35fec">&#9670;&nbsp;</a></span>unregisterThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unregisterThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregister a thread from the logger and free the private buffer for another thread's use NOTE: Each registered thread should unregister before logger termination NOTE: This API may be called only after calling 'initLogger(...) API </p>

</div>
</div>
<a id="aa357b200c534f9884dbbfdff32be188a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa357b200c534f9884dbbfdff32be188a">&#9670;&nbsp;</a></span>writeInFormat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int writeInFormat </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>maxMessageLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Log a message in a structured format: mid - Message identifier. A time stamp in the format of (seconds):(microseconds). A timestamp in yyyy-mm-dd can later be parsed using this information ll - Logging level lm - Logging method (private buffer, shared buffer, direct write) lwp - Thread identifier (LWP) loc - Location in the format of (file):(line):(method) msg - The message provided for the current log line </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer in which to write to </td></tr>
    <tr><td class="paramname">data</td><td>Data to write </td></tr>
    <tr><td class="paramname">maxMessageLen</td><td>The maximum message length that can be written to the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="addb308103b95016779df390c8c96a1e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb308103b95016779df390c8c96a1e1">&#9670;&nbsp;</a></span>writeToPrivateBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int writeToPrivateBuffer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structRingBuffer.html">RingBuffer</a> *&#160;</td>
          <td class="paramname"><em>rb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMessageInfo.html">MessageInfo</a> *&#160;</td>
          <td class="paramname"><em>msgInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a message from a worker thread to it's private buffer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rb</td><td>The <a class="el" href="structRingBuffer.html">RingBuffer</a> to write to </td></tr>
    <tr><td class="paramname">msgInfo</td><td>The message information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LOG_STATUS_SUCCESS on success, LOG_STATUS_FAILURE on failure </dd></dl>

</div>
</div>
<a id="a10216d7c79c1962f9498c420e1f01d5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10216d7c79c1962f9498c420e1f01d5d">&#9670;&nbsp;</a></span>writeTosharedBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int writeTosharedBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMessageInfo.html">MessageInfo</a> *&#160;</td>
          <td class="paramname"><em>msgInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a message from a worker thread to the shared buffer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgInfo</td><td>The message information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LOG_STATUS_SUCCESS on success, LOG_STATUS_FAILURE on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
